"use strict";(()=>{var e={};e.id=8775,e.ids=[8775],e.modules={8097:e=>{e.exports=require("@sentry/nextjs")},2167:e=>{e.exports=require("axios")},3582:e=>{e.exports=require("cors")},1185:e=>{e.exports=require("mongoose")},1649:e=>{e.exports=require("next-auth/react")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},3160:e=>{e.exports=require("next/dist/lib/import-next-warning")},5828:e=>{e.exports=require("uuid")},6113:e=>{e.exports=require("crypto")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},9317:(e,s,t)=>{t.r(s),t.d(s,{config:()=>h,default:()=>g,routeModule:()=>x});var r={};t.r(r),t.d(r,{default:()=>p});var a=t(1802),o=t(7153),u=t(6249),i=t(5912),n=t(3300),l=t(5166),d=t(3506);let handler=async(e,s)=>{if(await (0,l.D0)(e,s),"OPTIONS"===e.method){s.status(200).end();return}return(await (0,d.uD)(),"GET"!==e.method)?s.status(i.uT.METHOD_NOT_ALLOWED).json((0,l.OF)({status:!1,message:`Method ${e.method} not allowed`})):handleGetUsersWithLogs(e,s)},handleGetUsersWithLogs=async(e,s)=>{try{console.log("getAllUsersWithLogsFromDB");let{data:e,error:t}=await (0,n.getAllUsersWithLogsFromDB)();if(t)return s.status(i.uT.INTERNAL_SERVER_ERROR).json((0,l.OF)({status:!1,message:"Failed to fetch users with logs",error:t}));return s.status(i.uT.OKAY).json((0,l.OF)({status:!0,message:"Users with logs fetched successfully",data:e}))}catch(e){return s.status(i.uT.INTERNAL_SERVER_ERROR).json((0,l.OF)({status:!1,message:"Something went wrong while fetching users with logs",error:e}))}},p=handler,g=(0,u.l)(r,"default"),h=(0,u.l)(r,"config"),x=new a.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/v1/admin/prepyatra/userlogs",pathname:"/api/v1/admin/prepyatra/userlogs",bundlePath:"",filename:""},userland:r})},3506:(e,s,t)=>{t.d(s,{D0:()=>r.D0,uD:()=>r.uD,xM:()=>r.xM});var r=t(7750)}};var s=require("../../../../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[4222,5912,5166,9276,7750,3300],()=>__webpack_exec__(9317));module.exports=t})();