"use strict";exports.id=7750,exports.ids=[7750],exports.modules={7750:(e,s,r)=>{r.d(s,{D0:()=>c.D0,uD:()=>connectDB,xM:()=>adminMiddleware});var t=r(1185),n=r.n(t),o=r(5912),c=r(5166);let connectDB=async()=>{try{await n().connect(o._c.MONGODB_URI),console.log("Connected to MongoDB")}catch(e){console.error("Error connecting to MongoDB:",e)}},adminMiddleware=async(e,s)=>{try{let r=e.headers["x-admin-secret"],t=process.env.ADMIN_SECRET||"TBEAdmin";if(!r||r!==t)return s.status(o.uT.UNAUTHORIZED).json((0,c.OF)({success:!1,status:o.uT.UNAUTHORIZED,error:!0,message:"Unauthorized. Admin access required."})),!1;return!0}catch(e){return s.status(o.uT.INTERNAL_SERVER_ERROR).json((0,c.OF)({success:!1,status:o.uT.INTERNAL_SERVER_ERROR,error:!0,message:"Admin authentication error",data:e})),!1}}}};